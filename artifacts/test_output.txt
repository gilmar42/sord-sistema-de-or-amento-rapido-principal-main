
> sored---sistema-de-orâ”œÂºamento-râ”œÃ­pido@0.0.0 test
> jest --config jest.config.cjs

jest-haste-map: duplicate manual mock found: uuid
  The following files share their name; please delete one of them:
    * <rootDir>\__mocks__\uuid.js
    * <rootDir>\src\__mocks__\uuid.js

FAIL src/components/MainLayout.test.tsx
  Ã”Ã¹Ã… MainLayout Ã”Ã‡â•‘ renders without crashing

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      paragraph:

      Name "":
      <p />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <p>
          Erro: Usuâ”œÃ­rio nâ”œÃºo autenticado ou tenantId ausente.
        </p>
      </div>
    </body>

      15 |       </AuthProvider>
      16 |     );
    > 17 |     expect(screen.getByRole('main')).toBeInTheDocument();
         |                   ^
      18 |   });
      19 | });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/MainLayout.test.tsx:17:19)

FAIL src/context/__tests__/DataContext.test.tsx
  Ã”Ã¹Ã… DataContext Ã”Ã‡â•‘ should provide default data values when no data is in local storage

    TypeError: (intermediate value)(intermediate value)(intermediate value) is not iterable

      41 |   }
      42 |
    > 43 |   const [materials, setMaterials] = tenantId ? useLocalStorage<Material[]>(`sored_materials_${tenantId}`, []) : [[], () => {}];
         |                                     ^
      44 |   const [quotes, setQuotes] = tenantId ? useLocalStorage<Quote[]>(`sored_quotes_${tenantId}`, []) : [[], () => {}];
      45 |   const [settings, setSettings] = tenantId ? useLocalStorage<AppSettings>(`sored_settings_${tenantId}`, defaultSettings) : [defaultSettings, () => {}];
      46 |   const [categories, setCategories] = tenantId ? useLocalStorage<Category[]>(`sored_categories_${tenantId}`, defaultCategories) : [defaultCategories, () => {}];

      at DataProvider (src/context/DataContext.tsx:43:37)
      at Object.Component [as react_stack_bottom_frame] (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at callComponentInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at callback (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at callback (node_modules/react/cjs/react.development.js:590:34)
      at flushActQueue (node_modules/react/cjs/react.development.js:884:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:47:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/context/__tests__/DataContext.test.tsx:65:11)

  Ã”Ã¹Ã… DataContext Ã”Ã‡â•‘ should load existing data from local storage

    TypeError: (intermediate value)(intermediate value)(intermediate value) is not iterable

      41 |   }
      42 |
    > 43 |   const [materials, setMaterials] = tenantId ? useLocalStorage<Material[]>(`sored_materials_${tenantId}`, []) : [[], () => {}];
         |                                     ^
      44 |   const [quotes, setQuotes] = tenantId ? useLocalStorage<Quote[]>(`sored_quotes_${tenantId}`, []) : [[], () => {}];
      45 |   const [settings, setSettings] = tenantId ? useLocalStorage<AppSettings>(`sored_settings_${tenantId}`, defaultSettings) : [defaultSettings, () => {}];
      46 |   const [categories, setCategories] = tenantId ? useLocalStorage<Category[]>(`sored_categories_${tenantId}`, defaultCategories) : [defaultCategories, () => {}];

      at DataProvider (src/context/DataContext.tsx:43:37)
      at Object.Component [as react_stack_bottom_frame] (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at callComponentInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at callback (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at callback (node_modules/react/cjs/react.development.js:590:34)
      at flushActQueue (node_modules/react/cjs/react.development.js:884:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:47:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/context/__tests__/DataContext.test.tsx:102:11)

  Ã”Ã¹Ã… DataContext Ã”Ã‡â•‘ should update materials

    TypeError: (intermediate value)(intermediate value)(intermediate value) is not iterable

      41 |   }
      42 |
    > 43 |   const [materials, setMaterials] = tenantId ? useLocalStorage<Material[]>(`sored_materials_${tenantId}`, []) : [[], () => {}];
         |                                     ^
      44 |   const [quotes, setQuotes] = tenantId ? useLocalStorage<Quote[]>(`sored_quotes_${tenantId}`, []) : [[], () => {}];
      45 |   const [settings, setSettings] = tenantId ? useLocalStorage<AppSettings>(`sored_settings_${tenantId}`, defaultSettings) : [defaultSettings, () => {}];
      46 |   const [categories, setCategories] = tenantId ? useLocalStorage<Category[]>(`sored_categories_${tenantId}`, defaultCategories) : [defaultCategories, () => {}];

      at DataProvider (src/context/DataContext.tsx:43:37)
      at Object.Component [as react_stack_bottom_frame] (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at callComponentInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at callback (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at callback (node_modules/react/cjs/react.development.js:590:34)
      at flushActQueue (node_modules/react/cjs/react.development.js:884:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:47:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/context/__tests__/DataContext.test.tsx:127:11)

  Ã”Ã¹Ã… DataContext Ã”Ã‡â•‘ should update quotes

    TypeError: (intermediate value)(intermediate value)(intermediate value) is not iterable

      41 |   }
      42 |
    > 43 |   const [materials, setMaterials] = tenantId ? useLocalStorage<Material[]>(`sored_materials_${tenantId}`, []) : [[], () => {}];
         |                                     ^
      44 |   const [quotes, setQuotes] = tenantId ? useLocalStorage<Quote[]>(`sored_quotes_${tenantId}`, []) : [[], () => {}];
      45 |   const [settings, setSettings] = tenantId ? useLocalStorage<AppSettings>(`sored_settings_${tenantId}`, defaultSettings) : [defaultSettings, () => {}];
      46 |   const [categories, setCategories] = tenantId ? useLocalStorage<Category[]>(`sored_categories_${tenantId}`, defaultCategories) : [defaultCategories, () => {}];

      at DataProvider (src/context/DataContext.tsx:43:37)
      at Object.Component [as react_stack_bottom_frame] (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at callComponentInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at callback (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at callback (node_modules/react/cjs/react.development.js:590:34)
      at flushActQueue (node_modules/react/cjs/react.development.js:884:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:47:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/context/__tests__/DataContext.test.tsx:155:11)

  Ã”Ã¹Ã… DataContext Ã”Ã‡â•‘ should update settings

    TypeError: (intermediate value)(intermediate value)(intermediate value) is not iterable

      41 |   }
      42 |
    > 43 |   const [materials, setMaterials] = tenantId ? useLocalStorage<Material[]>(`sored_materials_${tenantId}`, []) : [[], () => {}];
         |                                     ^
      44 |   const [quotes, setQuotes] = tenantId ? useLocalStorage<Quote[]>(`sored_quotes_${tenantId}`, []) : [[], () => {}];
      45 |   const [settings, setSettings] = tenantId ? useLocalStorage<AppSettings>(`sored_settings_${tenantId}`, defaultSettings) : [defaultSettings, () => {}];
      46 |   const [categories, setCategories] = tenantId ? useLocalStorage<Category[]>(`sored_categories_${tenantId}`, defaultCategories) : [defaultCategories, () => {}];

      at DataProvider (src/context/DataContext.tsx:43:37)
      at Object.Component [as react_stack_bottom_frame] (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at callComponentInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at callback (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at callback (node_modules/react/cjs/react.development.js:590:34)
      at flushActQueue (node_modules/react/cjs/react.development.js:884:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:47:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/context/__tests__/DataContext.test.tsx:183:11)

FAIL src/context/__tests__/App.test.tsx
  Ã”Ã¹Ã… App Integration Tests Ã”Ã‡â•‘ should render AuthPage when user is not authenticated

    TestingLibraryElementError: Unable to find an element with the text: Bem-vindo ao Sored. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <p>
          Erro: Usuâ”œÃ­rio nâ”œÃºo autenticado ou tenantId ausente.
        </p>
      </div>
    </body>

      59 |     });
      60 |     renderApp();
    > 61 |     expect(screen.getByText('Bem-vindo ao Sored')).toBeInTheDocument();
         |                   ^
      62 |     expect(screen.queryByText('Lista de Materiais')).not.toBeInTheDocument();
      63 |   });
      64 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/context/__tests__/App.test.tsx:61:19)

  Ã”Ã¹Ã… App Integration Tests Ã”Ã‡â•‘ should render MainLayout when user is authenticated

    TestingLibraryElementError: Unable to find an element with the text: Lista de Materiais. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="flex flex-col md:flex-row min-h-screen bg-background"
        >
          <aside
            class="w-full md:w-56 bg-surface shadow-lg fixed bottom-0 md:relative md:min-h-screen z-20 flex flex-col"
          >
            <div
              class="px-4 py-6 flex-grow"
            >
              <div
                class="flex items-center justify-center text-primary mb-8"
              >
                <svg
                  class="w-8 h-8"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z"
                    opacity="0.6"
                  />
                  <path
                    d="M2 12l10 5 10-5-10-5-10 5z"
                  />
                </svg>
                <h1
                  class="ml-2 text-xl font-bold text-textPrimary hidden md:block"
                >
                  SORED
                </h1>
              </div>
              <nav
                class="flex flex-row md:flex-col justify-around md:space-y-2"
              >
                <button
                  class="flex flex-col md:flex-row items-center justify-center md:justify-start w-full px-2 py-3 md:py-2 text-sm font-medium rounded-lg transition-colors duration-200 bg-primary text-white shadow-md"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 3h.008v.008H8.25v-.008Zm0 3h.008v.008H8.25v-.008Zm3-6h.008v.008H11.25v-.008Zm0 3h.008v.008H11.25v-.008Zm0 3h.008v.008H11.25v-.008Zm3-6h.008v.008H14.25v-.008Zm0 3h.008v.008H14.25v-.008Zm0 3h.008v.008H14.25v-.008ZM6 18V9.75a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v8.25a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3Z"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <span
                    class="mt-1 md:mt-0 md:ml-3 text-xs md:text-sm"
                  >
                    Novo Orâ”œÂºamento
                  </span>
                </button>
                <button
                  class="flex flex-col md:flex-row items-center justify-center md:justify-start w-full px-2 py-3 md:py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-textSecondary hover:bg-surface-light hover:text-textPrimary"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <span
                    class="mt-1 md:mt-0 md:ml-3 text-xs md:text-sm"
                  >
                    Orâ”œÂºamentos
                  </span>
                </button>
                <button
                  class="flex flex-col md:flex-row items-center justify-center md:justify-start w-full px-2 py-3 md:py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-textSecondary hover:bg-surface-light hover:text-textPrimary"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9.75l-9-5.25M12 12.75v9.75"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <span
                    class="mt-1 md:mt-0 md:ml-3 text-xs md:text-sm"
                  >
                    Materiais
                  </span>
                </button>
                <button
                  class="flex flex-col md:flex-row items-center justify-center md:justify-start w-full px-2 py-3 md:py-2 text-sm font-medium rounded-lg transition-colors duration-200 text-textSecondary hover:bg-surface-light hover:text-textPrimary"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m18 0h-1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  <span
                    class="mt-1 md:mt-0 md:ml-3 text-xs md:text-sm"
                  >[...

      72 |     renderApp();
      73 |     expect(screen.queryByText('Bem-vindo ao Sored')).not.toBeInTheDocument();
    > 74 |     expect(screen.getByText('Lista de Materiais')).toBeInTheDocument();
         |                   ^
      75 |   });
      76 |
      77 |   it('should navigate to Quote Calculator and add an item', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/context/__tests__/App.test.tsx:74:19)

  Ã”Ã¹Ã… App Integration Tests Ã”Ã‡â•‘ should navigate to Quote Calculator and add an item

    TypeError: Cannot read properties of undefined (reading 'length')

      201 |                 required
      202 |               >
    > 203 |                 {categories.length === 0 ? (
          |                             ^
      204 |                   <option value="">Nenhuma categoria disponâ”œÂ¡vel</option>
      205 |                 ) : (
      206 |                   categories.map((cat) => (

      at MaterialFormModal (src/components/MaterialFormModal.tsx:203:29)
      at Object.Component [as react_stack_bottom_frame] (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at callComponentInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at callback (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18853:9)
      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:18982:11)
      at callback (node_modules/react/cjs/react.development.js:590:34)
      at flushActQueue (node_modules/react/cjs/react.development.js:884:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:47:25)
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:27)
      at eventWrapper (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.<anonymous> (src/context/__tests__/App.test.tsx:92:15)

FAIL src/components/MaterialManagement.test.tsx
  Ã”Ã¹Ã… MaterialManagement Ã”Ã‡â•‘ should render the correct labels for adding new material

    TestingLibraryElementError: Unable to find an accessible element with the role "textbox" and name "Nome do Produto"

    Here are the accessible roles:

      heading:

      Name "Gerenciamento de Materiais e Componentes":
      <h2
        class="text-3xl font-bold mb-6 text-primary"
      />

      --------------------------------------------------
      button:

      Name "Adicionar Novo Material":
      <button
        class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        class="text-textSecondary"
      />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="p-6 bg-background text-textPrimary min-h-screen"
        >
          <h2
            class="text-3xl font-bold mb-6 text-primary"
          >
            Gerenciamento de Materiais e Componentes
          </h2>
          <div
            class="flex justify-end mb-6"
          >
            <button
              class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
            >
              <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 4.5v15m7.5-7.5h-15"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Adicionar Novo Material
            </button>
          </div>
          <div
            class="bg-surface rounded-lg shadow-md p-4"
          >
            <p
              class="text-textSecondary"
            >
              Nenhum material cadastrado ainda.
            </p>
          </div>
        </div>
      </div>
    </body>

      41 |     );
      42 |
    > 43 |     expect(screen.getByRole('textbox', { name: 'Nome do Produto' })).toBeInTheDocument();
         |                   ^
      44 |     expect(screen.getByRole('spinbutton', { name: 'Peso Unit.' })).toBeInTheDocument();
      45 |     expect(screen.getByRole('spinbutton', { name: 'Custo do Produto Unidade (R$)' })).toBeInTheDocument();
      46 |     expect(screen.getByRole('button', { name: 'Adicionar' })).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/MaterialManagement.test.tsx:43:19)

  Ã”Ã¹Ã… MaterialManagement Ã”Ã‡â•‘ should render the "Adicionar Componente" button

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/Adicionar Componente/i`

    Here are the accessible roles:

      heading:

      Name "Gerenciamento de Materiais e Componentes":
      <h2
        class="text-3xl font-bold mb-6 text-primary"
      />

      --------------------------------------------------
      button:

      Name "Adicionar Novo Material":
      <button
        class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        class="text-textSecondary"
      />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="p-6 bg-background text-textPrimary min-h-screen"
        >
          <h2
            class="text-3xl font-bold mb-6 text-primary"
          >
            Gerenciamento de Materiais e Componentes
          </h2>
          <div
            class="flex justify-end mb-6"
          >
            <button
              class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
            >
              <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 4.5v15m7.5-7.5h-15"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Adicionar Novo Material
            </button>
          </div>
          <div
            class="bg-surface rounded-lg shadow-md p-4"
          >
            <p
              class="text-textSecondary"
            >
              Nenhum material cadastrado ainda.
            </p>
          </div>
        </div>
      </div>
    </body>

      58 |       </AuthProvider>
      59 |     );
    > 60 |     expect(screen.getByRole('button', { name: /Adicionar Componente/i })).toBeInTheDocument();
         |                   ^
      61 |   });
      62 |
      63 |   it('should add a new component field when "Adicionar Componente" button is clicked', () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/MaterialManagement.test.tsx:60:19)

  Ã”Ã¹Ã… MaterialManagement Ã”Ã‡â•‘ should add a new component field when "Adicionar Componente" button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/Adicionar Componente/i`

    Here are the accessible roles:

      heading:

      Name "Gerenciamento de Materiais e Componentes":
      <h2
        class="text-3xl font-bold mb-6 text-primary"
      />

      --------------------------------------------------
      button:

      Name "Adicionar Novo Material":
      <button
        class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        class="text-textSecondary"
      />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="p-6 bg-background text-textPrimary min-h-screen"
        >
          <h2
            class="text-3xl font-bold mb-6 text-primary"
          >
            Gerenciamento de Materiais e Componentes
          </h2>
          <div
            class="flex justify-end mb-6"
          >
            <button
              class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
            >
              <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 4.5v15m7.5-7.5h-15"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Adicionar Novo Material
            </button>
          </div>
          <div
            class="bg-surface rounded-lg shadow-md p-4"
          >
            <p
              class="text-textSecondary"
            >
              Nenhum material cadastrado ainda.
            </p>
          </div>
        </div>
      </div>
    </body>

      70 |     );
      71 |
    > 72 |     const addComponentButton = screen.getByRole('button', { name: /Adicionar Componente/i });
         |                                       ^
      73 |     fireEvent.click(addComponentButton);
      74 |
      75 |     expect(screen.getByLabelText('Nome do Componente', { selector: '#componentName-0' })).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/MaterialManagement.test.tsx:72:39)

  Ã”Ã¹Ã… MaterialManagement Ã”Ã‡â•‘ should update component field values

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/Adicionar Componente/i`

    Here are the accessible roles:

      heading:

      Name "Gerenciamento de Materiais e Componentes":
      <h2
        class="text-3xl font-bold mb-6 text-primary"
      />

      --------------------------------------------------
      button:

      Name "Adicionar Novo Material":
      <button
        class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        class="text-textSecondary"
      />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="p-6 bg-background text-textPrimary min-h-screen"
        >
          <h2
            class="text-3xl font-bold mb-6 text-primary"
          >
            Gerenciamento de Materiais e Componentes
          </h2>
          <div
            class="flex justify-end mb-6"
          >
            <button
              class="flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"
            >
              <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 4.5v15m7.5-7.5h-15"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Adicionar Novo Material
            </button>
          </div>
          <div
            class="bg-surface rounded-lg shadow-md p-4"
          >
            <p
              class="text-textSecondary"
            >
              Nenhum material cadastrado ainda.
            </p>
          </div>
        </div>
      </div>
    </body>

      87 |     );
      88 |
    > 89 |     const addComponentButton = screen.getByRole('button', { name: /Adicionar Componente/i });
         |                                       ^
      90 |     fireEvent.click(addComponentButton);
      91 |
      92 |     const componentNameInput = screen.getByLabelText('Nome do Componente', { selector: '#componentName-0' });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/MaterialManagement.test.tsx:89:39)

PASS src/context/__tests__/AuthContext.test.tsx
PASS src/utils/parsers.test.ts
PASS src/simple.test.tsx
PASS src/components/MaterialFormModal.test.tsx
FAIL src/context/__tests__/QuoteCalculator.test.tsx (8.466 s)
  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should add an item to the quote

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value=""
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      90 |     expect(screen.getByText('Nenhum item adicionado.')).toBeInTheDocument();
      91 |     fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 92 |     await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
         |                  ^
      93 |     fireEvent.click(screen.getByText('Material A'));
      94 |     expect(screen.queryByText('Nenhum item adicionado.')).not.toBeInTheDocument();
      95 |     expect(screen.getByDisplayValue('1')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:92:18)

  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should update item quantity

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value=""
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

       99 |     renderQuoteCalculator();
      100 |     fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 101 |     await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
          |                  ^
      102 |     fireEvent.click(screen.getByText('Material A'));
      103 |     const quantityInput = screen.getByDisplayValue('1');
      104 |     fireEvent.change(quantityInput, { target: { value: '5' } });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:101:18)

  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should remove an item from the quote

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value=""
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      109 |      renderQuoteCalculator();
      110 |      fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 111 |      await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
          |                   ^
      112 |      fireEvent.click(screen.getByText('Material A'));
      113 |      expect(screen.getByText('Material A')).toBeInTheDocument();
      114 |      const materialARow = screen.getByText('Material A').closest('tr');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:111:19)

  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should calculate costs correctly

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value=""
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      134 |       renderQuoteCalculator();
      135 |       fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 136 |       await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
          |                    ^
      137 |       fireEvent.click(screen.getByText('Material A')); // Cost 10, Weight 1
      138 |       fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
      139 |       await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:136:20)

  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should calculate costs correctly when freight is disabled

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value=""
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      197 |       renderQuoteCalculator();
      198 |       fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 199 |       await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
          |                    ^
      200 |       fireEvent.click(screen.getByText('Material A')); // Cost 10, Weight 1
      201 |       fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
      202 |       await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:199:20)

  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should reset the form

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value="Test Client"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      258 |      fireEvent.change(screen.getByPlaceholderText('Nome do Cliente'), { target: { value: 'Test Client' } });
      259 |      fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 260 |      await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
          |                   ^
      261 |      fireEvent.click(screen.getByText('Material A'));
      262 |  
      263 |      fireEvent.click(screen.getByRole('button', { name: /Limpar Formulâ”œÃ­rio/i }));

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:260:19)

  Ã”Ã¹Ã… QuoteCalculator Ã”Ã‡â•‘ should save a new quote

    Unable to find an element with the text: Selecionar Material. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="container mx-auto"
        >
          <div
            class="flex justify-between items-center mb-6"
          >
            <h2
              class="text-2xl font-bold text-textPrimary"
            >
              Novo Orâ”œÂºamento
            </h2>
            <button
              class="text-sm text-blue-400 hover:underline"
            >
              Limpar Formulâ”œÃ­rio
            </button>
          </div>
          <div
            class="grid grid-cols-1 lg:grid-cols-3 gap-8"
          >
            <div
              class="lg:col-span-2 space-y-6"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <div
                  class="flex justify-between items-center mb-4"
                >
                  <h3
                    class="text-xl font-semibold text-textPrimary"
                  >
                    Itens do Orâ”œÂºamento
                  </h3>
                  <button
                    class="flex items-center px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors"
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 4.5v15m7.5-7.5h-15"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Adicionar Item
                  </button>
                </div>
                <div
                  class="overflow-x-auto"
                >
                  <table
                    class="w-full text-sm text-left text-textSecondary"
                  >
                    <thead
                      class="text-xs text-gray-300 uppercase bg-surface-light"
                    >
                      <tr>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Descriâ”œÂºâ”œÃºo
                        </th>
                        <th
                          class="px-4 py-3 w-28"
                          scope="col"
                        >
                          Qtd.
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo do Produto Unidade
                        </th>
                        <th
                          class="px-4 py-3"
                          scope="col"
                        >
                          Custo Total
                        </th>
                        <th
                          class="px-4 py-3 w-12"
                          scope="col"
                        />
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td
                          class="text-center py-4 text-textSecondary"
                          colspan="5"
                        >
                          Nenhum item adicionado.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div
                class="bg-surface p-6 rounded-lg shadow-md"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary mb-4"
                >
                  Custos e Margem
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                    >
                      Nome do Cliente
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      placeholder="Nome do Cliente"
                      type="text"
                      value="New Client"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="profitMargin"
                    >
                      Margem de Lucro (%)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="profitMargin"
                      type="number"
                      value="20"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="laborCost"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio (R$)
                    </label>
                    <input
                      class="block w-full px-3 py-2 border border-gray-600 bg-gray-700 text-textPrimary rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                      id="laborCost"
                      type="number"
                      value="0"
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-textSecondary mb-1"
                      for="freightCost"
                    >
                      Custo de Frete (R$)
                    </label>
                    <div
                      class="flex items-center"
                    >
                      <input
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-textPrimary bg-bgSecondary"
                        disabled=""
                        id="freightCost"
                        placeholder="0.00"
                        type="number"
                        value="0"
                      />
                      <label
                        class="flex items-center cursor-pointer ml-4"
                        for="toggleFreight"
                      >
                        <div
                          class="relative"
                        >
                          <input
                            class="sr-only"
                            id="toggleFreight"
                            type="checkbox"
                          />
                          <div
                            class="block bg-gray-600 w-14 h-8 rounded-full"
                          />
                          <div
                            class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"
                          />
                        </div>
                        <div
                          class="ml-3 text-textPrimary font-medium"
                        >
                          Frete Inativo
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="lg:col-span-1"
            >
              <div
                class="bg-surface p-6 rounded-lg shadow-md sticky top-8"
              >
                <h3
                  class="text-xl font-semibold text-textPrimary border-b border-surface-light pb-3 mb-4"
                >
                  Resumo do Orâ”œÂºamento
                </h3>
                <div
                  class="space-y-2 text-sm"
                >
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Material:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Fabricaâ”œÂºâ”œÃºo Unitâ”œÃ­rio:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo de Frete:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Custo Total do Projeto:
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between"
                  >
                    <span
                      class="text-textSecondary"
                    >
                      Lucro (interno):
                    </span>
                    <span
                      class="font-medium text-textPrimary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                  <div
                    class="flex justify-between pt-2 border-t border-surface-light mt-2"
                  >
                    <span
                      class="font-bold text-textSecondary"
                    >
                      Peso Total:
                    </span>
                    <span
                      class="font-bold text-textPrimary"
                    >
                      0.00
                       kg
                    </span>
                  </div>
                  <div
                    class="flex justify-between text-lg"
                  >
                    <span
                      class="font-bold text-textPrimary"
                    >
                      Valor Final:
                    </span>
                    <span
                      class="font-bold text-primary"
                    >
                      R$ 
                      0.00
                    </span>
                  </div>
                </div>
                <div
                  class="mt-6 space-y-3"
                >
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-secondary text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Salvar Orâ”œÂºamento
                  </button>
                  <button
                    class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600"
                    disabled=""
                  >
                    <svg
                      class="w-5 h-5 mr-2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Gerar PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      271 |      fireEvent.change(screen.getByPlaceholderText('Nome do Cliente'), { target: { value: 'New Client' } });
      272 |      fireEvent.click(screen.getByRole('button', { name: /Adicionar Item/i }));
    > 273 |      await waitFor(() => expect(screen.getByText('Selecionar Material')).toBeInTheDocument());
          |                   ^
      274 |      fireEvent.click(screen.getByText('Material A'));
      275 |  
      276 |      fireEvent.click(screen.getByRole('button', { name: /Salvar Orâ”œÂºamento/i }));

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/context/__tests__/QuoteCalculator.test.tsx:273:19)

Test Suites: 5 failed, 4 passed, 9 total
Tests:       20 failed, 27 passed, 47 total
Snapshots:   0 total
Time:        14.963 s, estimated 18 s
Ran all test suites.
